@page "{id?}"
@model CustomerSite.Pages.DetailModel

@{
    <div>
        <h6 style="margin: 20px 130px; font-size: 16px;"><span class="backToMenu">Menu</span><span style="margin: 0 7px;">/</span>Chi Tiết Sản Phẩm</h6>
        <div class="detail-product">
            <div>
                <div class="product-img">
                    <img src="@Model.product.ImagePath" alt="">
                </div>
            </div>
            <div style="text-align: left; font-size: 16px; width: 570px">
                <div class="product-name">@Model.product.Name</div>
              
                @if (@Model.average % 2 == 0){
                    for (int i = 0; i < 5 ; i ++){
                        if(i < Model.average /2){
                            <i class="fa-solid fa-star"></i>
                        }else {
                            <i class="fa-regular fa-star"></i>
                        }
                    }
                }else {
                    for (int i = 0; i < 5; i ++){
                            if(i < (Model.average - 1) / 2){
                            <i class="fa-solid fa-star"></i>
                            }else if (i == (Model.average - 1) / 2){
                                <i class="fa-regular fa-star-half-stroke"></i>
                            }else {
                                <i class="fa-regular fa-star"></i>
                            }
                    }
                }
                <div class="product-price">@Model.product.Price đ</div>
                <div class="product-description">- @Model.product.Description</div>
                <button class="product-ship"><i style="margin: 0 5px;" class="fa-solid fa-truck-fast"></i>Đặt giao tận nơi</button>
                <div style="display: flex; justify-content: space-between; margin: 20px 0">
                    <button class="product-buy"><i style="margin: 0 5px;" class="fa-solid fa-store"></i>Mua tại cửa hàng</button>
                    <button class="product-buy"><i style="margin: 0 5px;" class="fa-solid fa-glass-water"></i>Mua mang đi</button>
                </div>
                @* <div>Còn @Model.product.Stock Sản Phẩm</div> *@
                @* <div>Average Rating: @Model.average</div> *@
                <div class="stars">
                    <form method="post" asp-route-id="@Model.product.Id" asp-page="Detail">
                        <input style="height: 100px; width: 570px" placeholder="Viết review đánh giá..." type="text-area" id="Review" name="Review">
                        <div style="display: flex; justify-content: space-between; align-items: center">
                            <div style="display: flex; flex-direction: row-reverse; justify-content: flex-end; margin: 10px 0">
                                <input class="star star-5" id="star-5" type="radio" name="Star" value="5"/>
                                <label class="star star-5" for="star-5"></label>
                                <input class="star star-4" id="star-4" type="radio" name="Star" value="4"/>
                                <label class="star star-4" for="star-4"></label>
                                <input class="star star-3" id="star-3" type="radio" name="Star" value="3"/>
                                <label class="star star-3" for="star-3"></label>
                                <input class="star star-2" id="star-2" type="radio" name="Star" value="2"/>
                                <label class="star star-2" for="star-2"></label>
                                <input class="star star-1" id="star-1" type="radio" name="Star" value="1"/>
                                <label class="star star-1" for="star-1"></label>
                            </div>
                            <button type="submit" class="product-post">Đăng bài đánh giá</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="detail-more">
            <div class="detail-info">
                <h5>Thông tin</h5>
                <div style="font-size: 14px">Bắt đầu ngày mới với tách cà phê sữa “Đậm vị Việt” mạnh mẽ sẽ giúp bạn luôn tỉnh táo và hứng khởi cho ngày làm việc thật hiệu quả.</div>
            </div>
            <div class="detail-story">
                <h5>Câu chuyện</h5>
                <div style="font-size: 14px">Các chuyên gia The Coffee House tự hào mang đến sản phẩm cà phê 3in1 với vị đậm đà, hương thơm đặc trưng của ly cà phê sữa truyền thống. Hãy khởi đầu ngày mới thật nhiều hứng khởi cùng cà phê 3in1 đậm vị Việt của The Coffee House bạn nhé!</div>
            </div>
        </div>

        <div class="review-post">
            <div style="font-size: 20px; margin-bottom: 20px;">ĐÁNH GIÁ SẢN PHẨM</div>
            @if (Model.ratingList.Count == 0){
                <div class="el-empty">
                    <div class="el-empty__image" style="width: 200px;">
                        <svg viewBox="0 0 79 86" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs><linearGradient id="linearGradient-1-2" x1="38.8503086%" y1="0%" x2="61.1496914%" y2="100%"><stop stop-color="#FCFCFD" offset="0%"></stop><stop stop-color="#EEEFF3" offset="100%"></stop></linearGradient><linearGradient id="linearGradient-2-2" x1="0%" y1="9.5%" x2="100%" y2="90.5%"><stop stop-color="#FCFCFD" offset="0%"></stop><stop stop-color="#E9EBEF" offset="100%"></stop></linearGradient><rect id="path-3-2" x="0" y="0" width="17" height="36"></rect></defs><g id="Illustrations" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="B-type" transform="translate(-1268.000000, -535.000000)"><g id="Group-2" transform="translate(1268.000000, 535.000000)"><path id="Oval-Copy-2" d="M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z" fill="#F7F8FC"></path><polygon id="Rectangle-Copy-14" fill="#E5E7E9" transform="translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) " points="13 58 53 58 42 45 2 45"></polygon><g id="Group-Copy" transform="translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"><polygon id="Rectangle-Copy-10" fill="#E5E7E9" transform="translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) " points="2.84078316e-14 3 18 3 23 7 5 7"></polygon><polygon id="Rectangle-Copy-11" fill="#EDEEF2" points="-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"></polygon><rect id="Rectangle-Copy-12" fill="url(#linearGradient-1-2)" transform="translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) " x="38" y="7" width="17" height="36"></rect><polygon id="Rectangle-Copy-13" fill="#F8F9FB" transform="translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) " points="24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"></polygon></g><rect id="Rectangle-Copy-15" fill="url(#linearGradient-2-2)" x="13" y="45" width="40" height="36"></rect><g id="Rectangle-Copy-17" transform="translate(53.000000, 45.000000)"><mask id="mask-4-2" fill="white"><use xlink:href="#path-3-2"></use></mask><use id="Mask" fill="#E0E3E9" transform="translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) " xlink:href="#path-3-2"></use><polygon id="Rectangle-Copy" fill="#D5D7DE" mask="url(#mask-4-2)" transform="translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) " points="7 0 24 0 20 18 -1.70530257e-13 16"></polygon></g><polygon id="Rectangle-Copy-18" fill="#F8F9FB" transform="translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) " points="62 45 79 45 70 58 53 58"></polygon></g></g></g>
                        </svg>
                </div>
                <div class="el-empty__description"><p>Chưa có đánh giá nào!</p></div><!----></div>
            }
            else {
                @foreach (var r in Model.ratingList)
                {
                <div class="user-line">
                        <div class="user-avatar">
                            <i class="fa-solid fa-user"></i>
                        </div>
                        <div class="user-review">
                            <div class="user-name">@r.User.Name</div>
                            <div class="user-score">
                                @for (int i = 0; i < 5 ; i ++){
                                    if(i < r.Score){
                                        <i class="fa-solid fa-star"></i>
                                    }else {
                                        <i class="fa-regular fa-star"></i>
                                    }
                                }
                            </div>
                            <div class="date-review">2022-06-29 14:42</div>
                            <div class="user-post">@r.Comment</div>
                            <div class="user-img-review">
                                <img src="https://images.foody.vn/res/g112/1115261/s180x180/foody-chuk-chuk-tra-ca-phe-ttc-group-617-637763077485626492.jpg" alt="">
                                <img src="https://images.foody.vn/res/g112/1115261/s180x180/foody-chuk-chuk-tra-ca-phe-ttc-group-876-637763293334020313.jpg" alt="">
                            </div>
                            <div style="margin-top: 10px; color: #888">
                                <i style="margin-right: 3px" class="fa-solid fa-comment"></i><span>12</span>
                                <i style="margin:0 3px" class="fa-solid fa-thumbs-up"></i><span>97</span>
                            </div>
                        </div>
                </div>
                }
            }
        </div>
    </div>

}

<style>
    .backToMenu {
        cursor: pointer;
    }
    .backToMenu:hover {
        color: #f57f48;
    }
    .detail-product {
        display: flex;
        justify-content: space-between;
        margin: 0px 130px;
    }
    .product-img {
        width: 570px;
    }
    .product-img img {
        width: 100%;
    }
    .product-name {
        font-size: 18px;
        font-weight: 700;
    }
    .product-price {
        font-size: 28px;
        color: #f57f48;
        font-weight: 700;
        margin: 10px 0;
    }
    .product-description {
        padding-bottom: 10px;
    }
    .product-ship {
        width: 100%;
        background-color: #f57f48;
        color: white;
        border: none;
        border-radius: 7px;
        padding: 12px;
        font-weight: 700;
    }
    .product-buy {
        background-color: #fff7e6;
        padding: 12px;
        border: none;
        border-radius: 7px;
        color: #f57f48;
        font-weight: 500;
        width: 280px;
    }
    .product-post {
        background-color: #f57f48;
        padding: 12px;
        border: none;
        border-radius: 7px;
        color: white;
        font-weight: 700;
        width: 180px;
    }
    input.star { 
        display: none; 
    }
    label.star {
        padding: 2px;
        font-size: 30px;
        color: #444;
        transition: all .2s;
    }
    input.star:checked ~ label.star:before {
        content: '\f005';
        color: #FD4;
        transition: all .25s;
    }
    input.star-5:checked ~ label.star:before {
        color: #FE7;
        text-shadow: 0 0 20px #952;
    }
    input.star-1:checked ~ label.star:before { color: #F62; }
    label.star:hover { transform: rotate(-15deg) scale(1.3); }
    label.star:before {
        content: '\f006';
        font-family: FontAwesome;
    }
    .detail-more {
        border-top: 1px solid #dee2e6;
        border-bottom: 1px solid #dee2e6;
        display: flex;
        margin: 20px 0;
        padding: 20px 120px;
        justify-content: space-between;
    }
    .detail-info {
        width: 400px;
    }
    .detail-story {
        width: 600px;
    }
    .review-post {
        padding: 0 120px;
    }
    .user-line {
        display: flex;
        padding: 10px 0; 
        border-bottom: 1px solid silver;
    }
    .user-avatar {
        border: 1px solid silver;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        background-color: #f5f5f5;
        text-align: center;
        line-height: 36px;
        font-size: 18px;
        margin-right: 10px;
    }
    .user-review {
        font-size: 12px;
        width: 1100px;
    }
    .user-score {
        color: #f57f48;
        margin: 5px 0;
    }
    .user-post {
        font-size: 14px;
        margin: 5px 0;
    }
    .date-review {
        color: rgba(0,0,0,.54);
    }
    .user-img-review img {
        width: 150px;
    }
</style>







